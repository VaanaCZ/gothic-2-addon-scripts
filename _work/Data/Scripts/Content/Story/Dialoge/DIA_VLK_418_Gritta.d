// ************************************************************
// 			  				   EXIT 
// ************************************************************
INSTANCE DIA_Gritta_EXIT(C_INFO)
{
	npc			= VLK_418_Gritta;
	nr			= 999;
	condition	= DIA_Gritta_EXIT_Condition;
	information	= DIA_Gritta_EXIT_Info;
	permanent	= TRUE;
	description = DIALOG_ENDE;
};                       
FUNC INT DIA_Gritta_EXIT_Condition()
{
	if (Kapitel <= 2)
	{
		return TRUE;
	};	
};
FUNC VOID DIA_Gritta_EXIT_Info()
{	
	AI_StopProcessInfos	(self);
};
// ************************************************************
// 			  				PICK POCKET
// ************************************************************
INSTANCE DIA_Gritta_PICKPOCKET (C_INFO)
{
	npc			= VLK_418_Gritta;
	nr			= 900;
	condition	= DIA_Gritta_PICKPOCKET_Condition;
	information	= DIA_Gritta_PICKPOCKET_Info;
	permanent	= TRUE;
	description = Pickpocket_20_Female;
};                       

FUNC INT DIA_Gritta_PICKPOCKET_Condition()
{
	C_Beklauen (20, 20);
};
 
FUNC VOID DIA_Gritta_PICKPOCKET_Info()
{	
	Info_ClearChoices	(DIA_Gritta_PICKPOCKET);
	Info_AddChoice		(DIA_Gritta_PICKPOCKET, DIALOG_BACK 		,DIA_Gritta_PICKPOCKET_BACK);
	Info_AddChoice		(DIA_Gritta_PICKPOCKET, DIALOG_PICKPOCKET	,DIA_Gritta_PICKPOCKET_DoIt);
};

func void DIA_Gritta_PICKPOCKET_DoIt()
{
	B_Beklauen ();
	Info_ClearChoices (DIA_Gritta_PICKPOCKET);
};
	
func void DIA_Gritta_PICKPOCKET_BACK()
{
	Info_ClearChoices (DIA_Gritta_PICKPOCKET);
};
// ************************************************************
// 			  				   Hello 
// ************************************************************
INSTANCE DIA_Gritta_Hello(C_INFO)
{
	npc			= VLK_418_Gritta;
	nr			= 10;
	condition	= DIA_Gritta_Hello_Condition;
	information	= DIA_Gritta_Hello_Info;
	permanent	= FALSE;
	Important   = TRUE;
};                       
FUNC INT DIA_Gritta_Hello_Condition()
{
	if (Npc_IsInState (self,ZS_Talk))
	&& (self.aivar[AIV_TalkedToPlayer] == FALSE)
	{
		return TRUE;
	};	
};
FUNC VOID DIA_Gritta_Hello_Info()
{	
	AI_Output (self ,other,"DIA_Gritta_Hello_16_00"); //Co chceö, cizinËe? Jestli jsi p¯iöel ûebrat, pak tÏ musÌm zklamat - jsem jenom chud· vdova.
	AI_Output (self ,other,"DIA_Gritta_Hello_16_01"); //Jmenuji se Gritta. Od tÈ doby, co mi zem¯el manûel, vedu dom·cnost svÈmu str˝ci Thorbenovi.
};
//*************************************************************
//			Matteo will sein Geld
//*************************************************************
INSTANCE DIA_Gritta_WantsMoney(C_INFO)
{
	npc			= VLK_418_Gritta;
	nr			= 2;
	condition	= DIA_Gritta_WantsMoney_Condition;
	information	= DIA_Gritta_WantsMoney_Info;
	permanent	= FALSE;
	description = "PosÌl· mÏ Matteo, pr˝ mu st·le dluûÌö nÏjakÈ penÌze.";
};                       
FUNC INT DIA_Gritta_WantsMoney_Condition()
{
	if (MIS_Matteo_Gold == LOG_RUNNING)
	{
		return TRUE;
	};	
};
//------------------------------------
var int Gritta_WantPay;
var int Gritta_Threatened;
//------------------------------------
FUNC VOID DIA_Gritta_WantsMoney_Info()
{	
	AI_Output (other,self ,"DIA_Gritta_WantsMoney_15_00"); //PosÌl· mÏ Matteo, pr˝ mu st·le dluûÌö nÏjakÈ penÌze.
	AI_Output (self ,other,"DIA_Gritta_WantsMoney_16_01"); //On chce svÈ penÌze? A proË? ZboûÌ, kterÈ mi dodal, bylo vadnÈ, öpatnÏ utkanÈ a jeötÏ h˘¯e seöitÈ.
	AI_Output (self ,other,"DIA_Gritta_WantsMoney_16_02"); //A vidÏl jsi ty barvy? V˘bec se nepodobaly tÏm, jakÈ jsem si objednala! Je to podvod, nic jinÈho!
	AI_Output (self ,other,"DIA_Gritta_WantsMoney_16_03"); //ÿeknu ti, ûe kdyby byl naûivu m˘j muû, Matteo by si nikdy nic takovÈho nedovolil. Ach, m˘j uboh˝ manûel...

	Info_ClearChoices (DIA_Gritta_WantsMoney);
	Info_AddChoice (DIA_Gritta_WantsMoney,"Nech toho. Kde jsou ty prachy?",DIA_Gritta_WantsMoney_WhereMoney);
	Info_AddChoice (DIA_Gritta_WantsMoney,"PokraËovat...",DIA_Gritta_WantsMoney_Continue01);
};
FUNC VOID DIA_Gritta_WantsMoney_Continue01 ()
{
	AI_Output (self ,other,"DIA_Gritta_WantsMoney_continue01_16_00"); //...byl to takov˝ dobr·k. Pohledn˝, pracovit˝ a dûentlmen ze starÈ ökoly. Nic n·m nechybÏlo - byli jsme bohatÌ a öùastnÌ...
	AI_Output (self ,other,"DIA_Gritta_WantsMoney_Continue01_16_01"); //...obËas n·s dokonce zvali i do lepöÌ spoleËnosti. SamÈ slavnosti, kr·snÈ öaty a ˙Ëesy...
	AI_Output (self ,other,"DIA_Gritta_WantsMoney_Continue01_16_02"); //...vybran· jÌdla a zdvo¯il· konverzace. Vöechno bylo tenkr·t lepöÌ. Tehdy by si nikdo nedovolil ur·ûet nebohou vdovu takov˝mi...
	
	Info_ClearChoices (DIA_Gritta_WantsMoney);
	Info_AddChoice (DIA_Gritta_WantsMoney,"Nech toho. Kde jsou ty prachy?",DIA_Gritta_WantsMoney_WhereMoney);
	Info_AddChoice (DIA_Gritta_WantsMoney,"PokraËovat...",DIA_Gritta_WantsMoney_Continue02);
};
FUNC VOID DIA_Gritta_WantsMoney_Continue02 ()
{
	AI_Output (self ,other,"DIA_Gritta_WantsMoney_continue02_16_00"); //...smÏön˝mi tvrzenÌmi. Co si jen poËnu? Moje renta staËÌ jen taktak na p¯eûitÌ a Ëasy jsou ËÌm d·l horöÌ. Je to vidÏt vöude...
	AI_Output (self ,other,"DIA_Gritta_WantsMoney_Continue02_16_01"); //...lidÈ musÌ öet¯it, ökudlit a utahovat opasky. Uû celÈ t˝dny do mÏsta nedorazila û·dn· loÔ. M˘j muû b˝val kapit·nem obchodnÌ lodi - vlastnÏ ji z·roveÚ i vlastnil...
	AI_Output (self ,other,"DIA_Gritta_WantsMoney_Continue02_16_02"); //...ze sv˝ch cest mi vûdycky vozil d·rky - n·dhernÈ l·tky z pevniny, vz·cnÈ ko¯enÌ z jiûnÌch zemÌ...
	
	Info_ClearChoices (DIA_Gritta_WantsMoney);
	Info_AddChoice (DIA_Gritta_WantsMoney,"Nech toho. Kde jsou ty prachy?",DIA_Gritta_WantsMoney_WhereMoney);
	Info_AddChoice (DIA_Gritta_WantsMoney,"PokraËovat...",DIA_Gritta_WantsMoney_Continue03);
};
FUNC VOID DIA_Gritta_WantsMoney_Continue03 ()
{
	AI_Output (self ,other,"DIA_Gritta_WantsMoney_continue03_16_00"); //...vÏtöina lidÌ o podobn˝ch vÏcech nikdy neslyöela. Ale jednoho dne jsem dostala zpr·vu, ûe Gritta se potopila - ano, naöe loÔ nesla toto jmÈno, m˘j muû tÌm d·val najevo...
	AI_Output (self ,other,"DIA_Gritta_WantsMoney_Continue03_16_01"); //...l·sku, jakou ke mnÏ choval. Plakala jsem a modlila se, aby m˘j drah˝ to neötÏstÌ p¯eûil, kaûd˝ den jsem doufala, ûe o nÏm t¯eba uslyöÌm, ale m· touha byla marn·...
	AI_Output (self ,other,"DIA_Gritta_WantsMoney_Continue04_16_02"); //...kÈû se Innos smiluje nad jeho duöÌ. Aù odpoËÌv· v pokoji. Od tÈ doby tu p¯eb˝v·m v tÏchto skromn˝ch podmÌnk·ch, a teÔ mÏ ten bezcitn˝, bezohledn˝ Matteo...
	AI_Output (self ,other,"DIA_Gritta_WantsMoney_Continue04_16_03"); //...chce p¯ipravit o poslednÌ zbyteËek m˝ch celoûivotnÌch ˙spor. ProsÌm, smiluj se nad ubohou ûenou. Kdyby byl naûivu m˘j muû, nikdy by si nic takovÈho nedovolil. Ach, m˘j uboh˝ manûel...
	
	Info_ClearChoices (DIA_Gritta_WantsMoney);
	Info_AddChoice (DIA_Gritta_WantsMoney,"P¯estaÚ s tÌm. Kde je to zlato?",DIA_Gritta_WantsMoney_WhereMoney);
	Info_AddChoice (DIA_Gritta_WantsMoney,"PokraËovat...",DIA_Gritta_WantsMoney_Continue01);
};
FUNC VOID DIA_Gritta_WantsMoney_WhereMoney ()
{
	AI_Output (other,self ,"DIA_Gritta_WantsMoney_WhereMoney_15_00"); //P¯estaÚ s tÌm. Kde je to zlato?
	AI_Output (self ,other,"DIA_Gritta_WantsMoney_WhereMoney_16_01"); //(vzdorovitÏ) Ale j· to zlato nem·m, jsem jenom chud· vdova!
	
	Info_ClearChoices (DIA_Gritta_WantsMoney);
	Info_AddChoice (DIA_Gritta_WantsMoney,"Naval prachy, nebo ti jednu vlepÌm!",DIA_Gritta_WantsMoney_BeatUp);
	Info_AddChoice (DIA_Gritta_WantsMoney,"Tak to asi budeme muset prodat nÏjak˝ tv˘j majetek...",DIA_Gritta_WantsMoney_EnoughStuff);
	Info_AddChoice (DIA_Gritta_WantsMoney,"Tak j· tu sumu zaplatÌm za tebe.",DIA_Gritta_WantsMoney_IWillPay);
};
FUNC VOID DIA_Gritta_WantsMoney_EnoughStuff ()
{
	AI_Output (other,self ,"DIA_Gritta_WantsMoney_EnoughStuff_15_00"); //Tak prostÏ prodej p·r tÏch sv˝ch had¯Ìk˘. UrËitÏ jich m·ö ve sk¯Ìni celou hromadu.
	AI_Output (self ,other,"DIA_Gritta_WantsMoney_EnoughStuff_16_01"); //Jak se opovaûujeö, ty nevychovanËe! No tak dob¯e, tady m·ö to zlato.
	B_GiveInvItems (self,other,ItMi_Gold, 100); 
	AI_Output (other,self ,"DIA_Gritta_WantsMoney_EnoughStuff_15_02"); //(˙öklebek) Vida, ani to nebolelo.
	AI_Output (self ,other,"DIA_Gritta_WantsMoney_EnoughStuff_16_03"); //(jedovatÏ) A teÔ prosÌm odejdi z mÈho domu.
	
	Gritta_GoldGiven = TRUE;
	
	AI_StopProcessInfos (self); 
};
func VOID DIA_Gritta_WantsMoney_IWillPay ()
{
	AI_Output (other,self ,"DIA_Gritta_WantsMoney_IWillPay_15_00"); //Tak j· tu sumu zaplatÌm za tebe.
	AI_Output (self ,other,"DIA_Gritta_WantsMoney_IWillPay_16_01"); //Opravdu bys to pro mÏ udÏlal? Ach, j· vÏdÏla, ûe nejsi takov˝ nenaûran˝ hajzl jako Matteo!
	AI_Output (other,self ,"DIA_Gritta_WantsMoney_IWillPay_15_02"); //No jo, to nic.
	AI_Output (self ,other,"DIA_Gritta_WantsMoney_IWillPay_16_03"); //Vraù se, aû to za¯ÌdÌö - chci se ti nÏjak odvdÏËit.
	Info_ClearChoices (DIA_Gritta_WantsMoney);
	
	Gritta_WantPay = TRUE;
};
FUNC VOID DIA_Gritta_WantsMoney_BeatUp ()
{
	AI_Output (other,self ,"DIA_Gritta_WantsMoney_BeatUp_15_00"); //(hrozivÏ) Naval prachy, nebo ti jednu vlepÌm!
	AI_Output (self ,other,"DIA_Gritta_WantsMoney_BeatUp_16_01"); //(vyz˝vavÏ) Jsi jenom prachsprost˝ lump. Jen pojÔ, vytas zbraÚ a j· zavol·m str·ûe!
	
	Gritta_Threatened = TRUE;
	
	AI_StopProcessInfos (self);
};

///////////////////////////////////////////////////////////////////////
//	Info WINE
///////////////////////////////////////////////////////////////////////
instance DIA_Gritta_WINE		(C_INFO)
{
	npc			 = 	VLK_418_Gritta;
	nr			 = 	2;
	condition	 = 	DIA_Gritta_WINE_Condition;
	information	 = 	DIA_Gritta_WINE_Info;
	permanent    =  FALSE;
	important	 = 	TRUE;
};
func int DIA_Gritta_WINE_Condition ()
{	
	if (Npc_IsInState (self, ZS_Talk))
	&& (Gritta_WantPay == TRUE)
	&& (MIS_Matteo_Gold == LOG_SUCCESS)
	&& (Npc_HasItems (self, itmi_gold) >= 100)
	{
		return TRUE;
	};
};
func void DIA_Gritta_WINE_Info ()
{
	AI_Output (self, other, "DIA_Gritta_WINE_16_00"); //To od tebe bylo opravdu ölechetnÈ, ûes to za mÏ zaplatil. ChtÏla bych se ti nÏjak odmÏnit.
	AI_Output (self, other, "DIA_Gritta_WINE_16_01"); //Tuhle l·hev vÌna mi manûel - nechù Innos dop¯eje pokoj jeho duöi - p¯ivezl z jiûnÌch ostrov˘.
	AI_Output (self, other, "DIA_Gritta_WINE_16_02"); //TakÈ jsem to vöude rozhl·sila. AspoÚ nÏkdo tu m· v tÏle kouska cti.
	AI_Output (other, self, "DIA_Gritta_WINE_15_03"); //No jo, to nic.

	B_GivePlayerXP 		(XP_PayForGritta);
	B_GiveInvItems 		(self, other, Itfo_Wine, 1);
	
	AI_StopProcessInfos (self); 
};
// *************************************************************
//							PERM (1u2)
// *************************************************************
instance DIA_Gritta_PERM (C_INFO)
{
	npc			= VLK_418_Gritta;
	nr		 	= 3;
	condition	= DIA_Gritta_PERM_Condition;
	information	= DIA_Gritta_PERM_Info;
	permanent	= TRUE;
	important 	= TRUE;
};
func int DIA_Gritta_PERM_Condition ()
{	
	if (Npc_IsInState (self, ZS_Talk))
	&& (Npc_KnowsInfo (other, DIA_Gritta_WantsMoney))
	&& (Kapitel < 3)
	{
		return TRUE;
	};
};
func void DIA_Gritta_PERM_Info ()
{
	if (Npc_KnowsInfo (other, DIA_Gritta_WINE))
	&& (Npc_HasItems (self, itmi_gold) >= 100)
	{
		AI_Output (self, other, "DIA_Gritta_PERM_16_00"); //Dokud jsou ve mÏstÏ muûi jako ty, st·le mohu v srdci chovat nadÏji, ûe se vöe v dobrÈ obr·tÌ.
	}
	else if (Gritta_WantPay == TRUE)
	&&		(Npc_HasItems (self, itmi_gold) >= 100)
	{
		AI_Output (self, other, "DIA_Gritta_PERM_16_01"); //Vraù se, aû urovn·ö tu z·leûitost s Matteem.
	}
	else if (Gritta_Threatened == TRUE)
	&&		(Npc_HasItems (self, itmi_gold) >= 100)
	{
		AI_Output (self, other, "DIA_Gritta_PERM_16_02"); //Co na mÏ tak blbÏ ËumÌö? StejnÏ si na mÏ netroufneö za˙toËit!
	}
	else //Gritta_GoldGiven oder niedergeschlagen
	{
		AI_Output (self, other, "DIA_Gritta_PERM_16_03"); //Co jeötÏ chceö? Moje zlato jsi uû dostal, tak vypadni!
	};
	
	AI_StopProcessInfos (self); 
};


//###########################################
//##
//##	Kapitel 3
//##
//###########################################

// ************************************************************
// 			  				   EXIT 
// ************************************************************
INSTANCE DIA_Gritta_Kap3_EXIT(C_INFO)
{
	npc			= VLK_418_Gritta;
	nr			= 999;
	condition	= DIA_Gritta_Kap3_EXIT_Condition;
	information	= DIA_Gritta_Kap3_EXIT_Info;
	permanent	= TRUE;
	description = DIALOG_ENDE;
};                       
FUNC INT DIA_Gritta_Kap3_EXIT_Condition()
{
	if (Kapitel >= 3 )
	{
		return TRUE;
	};	
};
FUNC VOID DIA_Gritta_Kap3_EXIT_Info()
{	
	AI_StopProcessInfos	(self);
};

// ************************************************************
//		Perm3U4U5
// ************************************************************

//------------------------------------
var int GrittaXP_Once;
//-----------------------------

INSTANCE DIA_Gritta_Perm3U4U5(C_INFO)
{
	npc			= VLK_418_Gritta;
	nr			= 31;
	condition	= DIA_Gritta_Perm3U4U5_Condition;
	information	= DIA_Gritta_Perm3U4U5_Info;
	permanent	= TRUE;
	description = "Jak se vede?";
};                       
FUNC INT DIA_Gritta_Perm3U4U5_Condition()
{
	return TRUE;
};
FUNC VOID DIA_Gritta_Perm3U4U5_Info()
{	
	AI_Output (other,self ,"DIA_Gritta_Perm3U4U5_15_00"); //Jak se vede?
	
	if (Kapitel == 3)
	{
		if (MIS_RescueBennet != LOG_SUCCESS)
		{
			AI_Output (self ,other,"DIA_Gritta_Perm3U4U5_16_01"); //Vöecko jde od desÌti k pÏti. Aù se podÌv·ö, kam se podÌv·ö, vöude vl·dne zloËin a n·silÌ. Jen si p¯edstav - dokonce zabili jednoho z paladin˘!
			
			Info_ClearChoices (DIA_Gritta_Perm3U4U5);
			Info_AddChoice (DIA_Gritta_Perm3U4U5,DIALOG_BACK,DIA_Gritta_Perm3U4U5_BACK);
			Info_AddChoice (DIA_Gritta_Perm3U4U5,"To je v·lka - takovÈ vÏci se st·vajÌ.",DIA_Gritta_Perm3U4U5_War);
			Info_AddChoice (DIA_Gritta_Perm3U4U5,"To bude v po¯·dku.",DIA_Gritta_Perm3U4U5_TurnsGood);
			Info_AddChoice (DIA_Gritta_Perm3U4U5,"Co jsi zaslechla?",DIA_Gritta_Perm3U4U5_Rumors);
		}
		else
		{
			AI_Output (self ,other,"DIA_Gritta_Perm3U4U5_16_02"); //Ach, lord Hagen toho ûold·ka pustil - to mÏ tak dojalo!
			AI_Output (other,self ,"DIA_Gritta_Perm3U4U5_15_03"); //A co to m· spoleËnÈho s tebou?
			AI_Output (self ,other,"DIA_Gritta_Perm3U4U5_16_04"); //Jen se nad tÌm zamysli. VÏ¯Ìö, ûe by ûold·ci jen tak st·li a dÌvali se, jak jim vÏöÌ kamar·da?
			AI_Output (self ,other,"DIA_Gritta_Perm3U4U5_16_05"); //UrËitÏ by se ho pokusili osvobodit, a z toho by koukalo po¯·dnÈ krveprolitÌ. Mohu tedy pouze dÏkovat Innosovi.
		};	
	}
	else if (Kapitel == 5)	
	{
		AI_Output (self ,other,"DIA_Gritta_Perm3U4U5_16_06"); //PaladinovÈ jsou p¯ipraveni a vypad· to, ûe se brzy vydajÌ na cestu.
	}
	else 
	{
		AI_Output (self ,other,"DIA_Gritta_Perm3U4U5_16_07"); //Vöechno p¯i starÈm, ale nechci si stÏûovat.
	};
};

FUNC VOID DIA_Gritta_Perm3U4U5_BACK ()
{
	Info_ClearChoices (DIA_Gritta_Perm3U4U5);
};

FUNC VOID DIA_Gritta_Perm3U4U5_War ()
{
	AI_Output (other,self ,"DIA_Gritta_Perm3U4U5_War_15_00"); //To je v·lka - takovÈ vÏci se st·vajÌ.
	AI_Output (self ,other,"DIA_Gritta_Perm3U4U5_War_16_01"); //Ano, za vöechno m˘ûe tahle straön· v·lka. Kaûd˝ nÏjak trpÌ a zajÌm· ho, jak se s tÌm vöÌm vypo¯·dajÌ.
	AI_Output (self ,other,"DIA_Gritta_Perm3U4U5_War_16_02"); //ObËas se pt·m sama sebe, zaË n·s Innos takhle trest·.
};

FUNC VOID DIA_Gritta_Perm3U4U5_TurnsGood ()
{
	AI_Output (other,self ,"DIA_Gritta_Perm3U4U5_TurnsGood_15_00"); //To bude v po¯·dku.
	AI_Output (self ,other,"DIA_Gritta_Perm3U4U5_TurnsGood_16_01"); //To je od tebe hezkÈ, ûe mÏ chceö povzbudit.
	
	if (GrittaXP_Once == FALSE)
	{
		B_GivePlayerXP (XP_AMBIENT);
		GrittaXP_Once = TRUE;
	};	
};

FUNC VOID DIA_Gritta_Perm3U4U5_Rumors ()
{
	AI_Output (other,self ,"DIA_Gritta_Perm3U4U5_Rumors_15_00"); //Co jsi zaslechla?
	AI_Output (self ,other,"DIA_Gritta_Perm3U4U5_Rumors_16_01"); //Jenom to, co si vypr·vÏjÌ lidÈ na ulici.
	AI_Output (self ,other,"DIA_Gritta_Perm3U4U5_Rumors_16_02"); //Pr˝ uû chytli toho vraha, ale ne¯eknu ti, jestli je to pravda.
};












